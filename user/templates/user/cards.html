{% extends 'base.html' %}

{% block content %}

<!-- Header -->
<div class="row">
    <div class="col s12">
        <h3 class="teal-text">Saved Credit Cards</h3>
    </div>
</div>

<!-- The cart itself  -->
<div class="row">
    <div class="col s12 m10 offset-m1 ">
       <div class="card-panel", style="padding:0">
           {% if cards | length != 0  %} 
            <!-- Collapsible Collection -->
            <ul class="collapsible" data-collapsible="">
        
                {% for card in cards %}

                <li>
                    <div class="collapsible-header white  " style="" >
                        <h3 style="margin-top: 0;" class="flow-text deep-orange-text truncate"> <span class="teal-text">Card Number</span> : <span class="deep-orange-text">{{card.number}}</span> </h3>     
                    </div>
                    <div class="collapsible-body white  white-text " style="padding-bottom:0;">
                        <div class="row">
                        <div class="col s12">
                            <p class="tags left">Card Holder : <b>{{card.holder}}</b></p>
                            <p class="tags left"> Card Issued By : {{card.card_type}}</p>
                            <p class="tags left"> Card Expiry On : {{card.expiry_month}}/{{card.expiry_year}} </p>
                        </div>
                        <div class="col s12 center-align">
                            <form>
                                <br>
                                <input name="delete" class="hide" value="{{card.id}}">
                                <button style="font-weight: 500;" class="waves-effect  waves-teal btn-flat">Delete Card</Button>
                            </form>
                        </div>
                        </div>
                        
                        
                    </div>
                    
                </li>
                {% endfor %}

               

            </ul>
            {% else %}
            <!-- No item in cart here  -->
            <div class="row  center-align" style="height: 300px;">
                
                <i class="material-icons large deep-orange-text" style="margin-top:50px">looks</i><br>
                <h3 class="teal-text">Nothing but a great empty here </h3> 
                                
            </div>
            {% endif %}
        </div>
    </div>
</div>

<!-- Add Card button -->
<div class="row">
    <div class="col s12  m6 offset-m3">
        <a  style="width: 100%; font-size: large; font-weight: 500;" data-target="add-card" class="waves-effect  modal-trigger waves-light btn btn-large  ">Add A Card</a>
    </div>
</div>



<script src="{{ url_for('static', filename='js/validator.js') }}"></script>

{% include 'user/addCard.html' %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.collapsible');
    var instances = M.Collapsible.init(elems);
  });
</script>
{% endblock %}